{%extends 'all-gallery/base.html'%}

 {% block content %}

   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
 
 <div class="container">

   <div class="row">
      <h2 style="text-align:center;font-size:50px;border-radius: 25px;border: 2px solid black;padding:10px">Welcome to gallery</h2>
    
      
     {% for picture in gallery %}
     
    
  
   <img src="{{picture.picture_image.url}}" data-toggle="modal" data-target="#myModal{{picture.id}}" class="img-responsive" alt="Image" width="500px">
   <div class="modal fade" id="myModal{{picture.id}}" role="dialog">
      <div class="modal-dialog">
      
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title"> <img src="{{picture.picture_image.url}}" data-toggle="modal" data-target="#myModal" class="img-responsive" alt="Image"></h4>
          <script type="text/javascript">
          function copyUrl(element) {
            var myvar = document.getElementById(element);
            myvar.select();
            document.execCommand('copy');
            alert("copied the link of picture: " + myvar.value);
          }
          </script>
          </div>
          <div class="modal-body">
            <p><track>title</p>{{picture.title}}</p>
            <p>{{picture.catecory}}</p>
            <p>{{picture.location}}</p>
            <p>{{picture.description}}</p>
            <button class= "btn-default" onclick="copyUrl('{{picture.id}}-url')">copy link</button>
            <input class="form-control"type="text" value="http://127.0.0.1:8000{{picture.picture_image.url}}"id="{{picture.id}}-url">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
        </div>
  </div>

   <div class="row">
     <h1 class="text-center">{{picture.title}}</h1>
   </div>

   <div class="row">
     <p>{{picture.post}}</p>
   </div>
  {% endfor %}
 </div>


 {% endblock %}
 